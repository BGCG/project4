# VeggieBytes

### Background

Curiosity in Veganism is on the rise. Google trends analysis has suggested an increase in the searching of the term 'Veganism' from the years 2004 and 2022, with the top countries for searches including Israel, Australia, UK, Australia and New Zealand (Google Trends). Based on a poll analysis, the number of vegans in the UK quadrupled between 2014 and 2018, from 150,000 and 600,000 people (Economist, 2020). Furthermore, the number of US consumers who identify with eating a vegan diet has increased from 1% to 6% between 2014 and 2017 (Forbes, 2018).

This rise in interest in veganism and plant-based diets has not gone unnoticed by big business, with many supermarkets and fast-food chains offering vegan options as they cater to a new consumer base. The global Vegan food industry grew from $14.44 to $15.77 billion in 2020 compared to 2021 and there is projected growth over the next several years (Sentient media, 2022).

Even though there has been an increased interest in veganism and plant-based diets, there are still certain perceptions around veganism. A qualitative based survey analysis has suggested that a subset of non-vegan participants think that there is a low variety of vegan food available and veganism is 'too difficult'. That said, other non-vegan participants suggested that one of the reasons that attracts them to veganism is feeling a part of a community (Souza et al. 2020).

VeggieBytes aims to tackle the growing interest in veganism and plant-based diets by offering an online platform for users who are curious about a plant-based diet, have a partial plant-based diet or a complete plant-based diet to share recipes of varying difficulty levels and connect through commenting and recipe sharing.

![VeggieBytes-responsive-screenshot](https://res.cloudinary.com/delase5lw/image/upload/v1684742468/project/Responsive_screenshot_uj0har.jpg)

### Site purpose

VeggieBytes is a plant-based recipe sharing site which aims to connect users through sharing recipes, commenting and connecting to the VeggieBytes social media groups. It aims to provide recipes of varying difficulty levels to cater those for all cooking confidence levels. 

VeggieBytes is hosted on Heroku and can be accessed [here](https://vegan-recipe-app.herokuapp.com/). This project was created for the purpose of the Code Institute Full Stack Development Diploma portfolio 4 project submission.

## Target audience

* Anyone who would like to try out plant-based recipes
* Is open to sharing their own recipes
* Is open to interacting with others on the site via comments

## Site goals 

* To provide a wide range of plant-based recipes
* To provide a community platform where users can interact through commenting on recipes and joining the social media groups
* To provide a platform for food influencers to share their recipes and promote their following on other platforms

### New user goals

* To browse the site for vegan recipes
* To register to the site to post own recipes
* To interact with other members through commenting of recipes
* To connect to the VeggieBytes social media groups

### Current user goals

* To browse the site for newly posted vegan recipes
* To post own recipes
* To interact with other members through commenting of recipes
* To provide a platform to share their own recipes and build their account (note: this could be particularly useful for food influencers)

### Superuser goals

* To be able to post recipes from the Admin team
* To be able to moderate post content
* To be able to moderate comments
* To filter through recipes and comments to ease the process of moderating site

### Design

#### Logo and font

The logo displays the name of the site in Caveat, which is a handwriting family provided by Google Fonts. It has a very organic look to represent the leaves of certain vegetables or sprouts from a plant. The font is coloured in green to further add to this organic theme. The logo contrasts with the serif font EB Garamond from Google Fonts, which is used for the body text.

#### Imagery

The imagery is all of different dishes where I selected those that displayed bursts of colour as I wanted to create a contrast with the white background of the body of the site.

#### Colour scheme

The colour scheme represents the greenness of certain fruits and vegetables, while also sporting some bursts of colours (such as various shades of oranges, reds, pink) from the imagery used in the site, all contrasting with the white background of the site. 

### Agile epics

#### **Completed user stories**

The project was planned and carried out using the Agile methodology, making use of the GitHub Kanban boards. 

User stories were separated into MUST HAVE, SHOULD HAVE, COULD HAVE AND SHOULDN'T HAVE.

The epics were categorised in a number of different milestones - Account, Admin, Browsing, Content observation, Content creation, Content reaction.

The full Kanban board can be viewed [here](https://github.com/users/BGCG/projects/6/views/1)

In the Kanban board the user stories were divided into three sections
* No status
* To do 
* In progress 
* Done

The list of completed epics in their milestones categories are below - 

Epic | ADMIN 

* As a site admin I can moderate user comments so that I can remove any inappropriate comments (MUST HAVE)
* As a site admin I can approve or disapprove recipe posts so I can manage inappropriate content (MUST HAVE)
* As a site admin I can create, update and delete posts so that I can manage all the blog content (MUST HAVE)

Epic | ACCOUNT 

* As a site user I can login or logout of my account so that I can post recipes and react to content (MUST HAVE)
* As a site user I can set up an account so that they can like/unlike and comment on posts (MUST HAVE)

Epic | BROWSING 

* As a site user I can favourite a recipe so that I can save my favourite recipes to revisit later (MUST HAVE)

Epic | CONTENT REACTION 

* As a site user who is registered I can comment on a recipe post so that I can participate in the conversation (MUST HAVE)
* As a site user I can like/unlike recipe posts so that I can react to content (MUST HAVE)
* As a site user I can contact admin via a contact form so communicate with admin in case I have any issues with my account or the site or any suggestions for the site content (SHOULD HAVE)

Epic | CONTENT OBSERVATION 

* As a site user I can view how many favourites a recipe has so I can see which is the most popular (MUST HAVE)
* As a site user I can view comments so that I can observe the conversation (MUST HAVE)
* As a site user I can view number of likes on each recipe so that I can see which recipe is the most popular (MUST HAVE)
* As a site user I can open a recipe post so that I can read the recipe post (MUST HAVE)
* As a site user I can view a list of recipe posts so that I can select which one I want to read (MUST HAVE)
* As a site user I can favourite/unfavourite a recipe post so that I can add or remove that post from my favourites list

Epics | CONTENT CREATION 

* As a site user I can view my own post list so that I can easily access my own posts and edit them if I want (SHOULD HAVE)
* As a site admin/site user I can create drafts of recipe posts so that I can finish writing a post later (MUST HAVE)
* As a site user I can create, update and delete recipe my posts so that I can control the recipe blog content that I have posted (MUST HAVE)

#### **Uncompleted epics**

There were a few epics I did not complete. I have provided details of these and reasons for not completing them below

Epic | BROWSING 
* As a site user I can search the recipes on the site so that I can easily navigate to recipes I want to view (COULD HAVE)

Epic | ACCOUNT 
* As a registered site user I can create a user profile page so I can build a public profile to connect better with other users (COULD HAVE)

Reason for non-completion of both above epics: Time constraints

Epic | CONTENT REACTION 
* As a site user I can update and delete my own comments so I can manage my own comments if I'm not happy with them (SHOULDN'T HAVE)

Reason for non-completion: In the project inception, I thought the ability for users to have more control over their comment reactions might be a good feature for user experience. However, when inserting this user story into the Kanban board I realised that the ability of users to delete comments might disrupt the flow of the conversation so I decided it shouldn't be implemented.

## Logic flow diagram

![logic-flow-diagram](https://res.cloudinary.com/delase5lw/image/upload/v1684393585/Logic_diagram_P4_rjqkqc.jpg)

## Database schema

![database-schema](https://res.cloudinary.com/delase5lw/image/upload/v1684736591/Database_schema_hp4yqx.jpg)

### Common features

### Logo 

* The logo on the left-hand corner of each page displays the title of the site in the characteristic green colour present throughout the site.

![screenshot-of-logo](https://res.cloudinary.com/delase5lw/image/upload/v1682611691/readme-imgs/logo_wbp1nw.jpg)

### Navigation dropdown bar

* Is present on the top right-hand corner of each page providing navigation to authentication/signup features and home
* If logged in it provides routes to:
 - userâ€™s published and draft posts ('Post management') - which also contains links to 'Edit post' pages where a user can update their post or delete it.
 - users 'favourites list' 
 - create a post form
 - Contact us page - where use can contact admin if they have any questions, account issues or feedback
 - Logout

![screenshot-of-navbar-dropdown-closed](https://res.cloudinary.com/delase5lw/image/upload/v1682611690/readme-imgs/nav-dropdown_ridbh5.jpg)
![screenshot-of-navbar-dropdown-open](https://res.cloudinary.com/delase5lw/image/upload/v1685018092/nav-dropdownv2_idmhqs.jpg)

### Footer 

* Contains social media links to the VeggieBytes community social media accounts (just links to the social media sites as the VeggieBytes social media accounts don't exist)

![screenshot-of-footer](https://res.cloudinary.com/delase5lw/image/upload/v1682611691/readme-imgs/footer_xvgayh.jpg)

### Features 

#### Homepage

* Homepage contains the site logo, navigation dropdown and welcome text explaining purpose of the site
* Contains the recently posted recipes on the site in a card format, displaying the recipe picture, title, publication date 
* When the recipe title is clicked it will take the user to the specific recipe detail page

![screenshot-of-homepage-top](https://res.cloudinary.com/delase5lw/image/upload/v1682614404/readme-imgs/homepage-top-v2_ejxmet.jpg)
![screenshot-of-homepage-recipes](https://res.cloudinary.com/delase5lw/image/upload/v1682611691/readme-imgs/homepage-recipes_vu71pr.jpg)

#### Recipe detail page

* Shows all details of the recipes in a large recipe card - title, publication date, author, recipe image, ingredients, instructions, taste type, skill level and preparation time.
* Just prior to the end of the recipe card there is a like and favourite button - which is only active for logged in users. The number of likes and favourites for that post will appear next to the respective buttons.
* Furthermore, for logged in users there will be a comment box where they can post a comment. When they post a comment a message will come up showing 'Your post is awaiting approval'.
* For non-logged in users a help text will show 'If you wish to like, favourite or comment on this recipe please login or signup'. 'Login' and 'Signup' in the help text will contain links to the login or signup pages, respectively.

![screenshot-of-recipe-detail](https://res.cloudinary.com/delase5lw/image/upload/v1682611691/readme-imgs/recipe-detail-card_qn5qya.jpg)
![screenshot-of-recipe-detail-comments](https://res.cloudinary.com/delase5lw/image/upload/v1682611691/readme-imgs/comment-box-w-comments_gyhytp.jpg)
![screenshot-of-recipe-detail-comments-help-text](https://res.cloudinary.com/delase5lw/image/upload/v1682613493/readme-imgs/comment-helptext_ccfeoc.jpg)

#### Your post list

* Has a list of published recipes (in the format of recipe cards) that the logged in user has posted 
* Additionally the your post list page has a list of draft recipes (in the format of recipe cards) written by the logged in user
* Inside both the published recipes and draft posts recipe cards has an 'Edit post' link which takes them to the edit post page for that particular post/draft

![screenshot-of-your-posts-list](https://res.cloudinary.com/delase5lw/image/upload/v1682611690/readme-imgs/your-posts_vne5j4.jpg)

#### Create a post

* Logged in users will be able to fill out a form to submit their own recipe posts.
* They can either set the status of the post to draft or published.
* If the post is set to draft, it will be saved in your posts list, where no one except the user (and admin in the admin panel) can see.
* If the post is set to Published and once Admin approves it, it will be visible on the homepage.

![screenshot-of-create-post](https://res.cloudinary.com/delase5lw/image/upload/v1682611690/readme-imgs/create-post_xiftd2.jpg)

#### Edit post page

* Once the user has clicked on the 'Edit post' link on the 'Your posts page', they will be taken to the edit post page where they can edit all fields of the recipe.
* The user can also delete the post if they wish here, which a pop up box will show to make them confirm whether they do in fact wish to delete the post/draft.

![screenshot-of-edit-post-page](https://res.cloudinary.com/delase5lw/image/upload/v1682611690/readme-imgs/edit-post_emae3t.jpg)
![screenshot-of-edit-post-page-delete-confirm-popup](https://res.cloudinary.com/delase5lw/image/upload/v1683877090/delete-post-button-confirm_hs0iqt.jpg)

### Your favourites list

* All recipes that the user has favourited will appear here in the form of recipe cards
* If the user clicks on the recipe card link the user is taken to that particular recipe

![screenshot-of-favourite-list-page](https://res.cloudinary.com/delase5lw/image/upload/v1682611691/readme-imgs/favourites-page_eesgtr.jpg)

### Logout

* For authenticated users, they can click on logout in the dropdown navigation and be taken to the logout page where they will be asked to confirm if they want to logout.

![screenshot-of-logout-page](https://res.cloudinary.com/delase5lw/image/upload/v1682611690/readme-imgs/logout-page_gbz8wj.jpg)

### Login 

* For unauthenticated users, they can access the login page in the navigation bar which will take them to the login page where they can input their username and password.
* If their username or password is incorrect, they will be informed that their details are invalid.

![screenshot-of-login-page](https://res.cloudinary.com/delase5lw/image/upload/v1682611690/readme-imgs/login_shjo5r.jpg)

### Register

* Users can create an account on the register page (accessed in the nav dropdown for unauthenticated users), where they can fill out and submit a form with their desired username, optional email and password (must enter password twice for validation).
* If their username has already been taken they will be asked to provide new details.
* Once they submit a form they will be redirected to the login page where they will be asked to login with their newly created login details.

![screenshot-of-signup-page](https://res.cloudinary.com/delase5lw/image/upload/v1682611690/readme-imgs/signup_or9c8r.jpg)

### Contact form

* Users can contact the admin team via a contact form, in case the user has any issues with their account or suggestions for content on the site. 
* Once the users posts the contact format the message will be saved and can be viewed in the admin panel

![screenshot-of-contact-form](https://res.cloudinary.com/delase5lw/image/upload/v1684687078/contact-formv2_qncctm.jpg)

### Technologies used

#### Integrated development environment

* GitPod

#### Storage and version control

* Github

#### Storage and hosting

* Heroku
* Cloudinary

#### Libraries, Frameworks and templates

* Django
* Bootstrap
* jQuery
* Google Fonts
* Font Awesome

#### Languages used 

* Python
* Javascript
* HTML
* CSS

#### Databases

* SQLite3 briefly in the initial stages of development
* PostgreSQL for vast majority of the development stage and for the production phase

#### Other tools

* PEP8 validator
* JShint validator
* Google Developer tools (including Lighthouse)
* W3C HTML Validator
* W3C Jigsaw CSS Validator
* Mobile simulator Chrome extension (to generate screenshot of how site looks across different devices)

### Testing 

#### Lighthouse report

The lighthouse report for the homepage showed excellent scores for accessibility and best practices, while showing a medium to high score for performance (I have discussed my performance troubleshooting in the troubleshooting section).

![Homepage lighthouse report](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-home_vnydpy.jpg)

The lighthouse reports for the other pages showed similar trends and can be accessed by the link below:

* [All recipes](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/lighthouse-allrecipes_vpt5jz.jpg)
* [Favourites list](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-favrecipes_ymrqdg.jpg)
* [Your posts](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-yourposts_r5qj50.jpg)
* [Create a post](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-createpost_rrpyyz.jpg)
* [Edit a post](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-editpost_faux1d.jpg)
* [Signup](https://res.cloudinary.com/delase5lw/image/upload/v1685088467/signup-lighthouse_mk9cyt.jpg)
* [Login](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-login_bumjzk.jpg)
* [Logout](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-logout_wntbfj.jpg)
* [Contact request](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/lighthouse-contactus_bjakhz.jpg)

#### HTML validation

![HTML validation results](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/home-html-val_ewoksf.jpg)
Furthermore, the validation results for all recipes, login, recipe detail and sign up page showed no errors. The screenshots of the pages are below - 

* [Login](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/login-html-val_nglajv.jpg)
* [Signup](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/signup-html-val_v7xs8w.jpg)
* [Recipe detail](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/recipedetail-htmlval_hqj6ys.jpg)
* [All recipes](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/allrecipes-html-val_bdudgu.jpg)
* [Contact us](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/contactus-html-val_abl6al.jpg)

For the pages that required user login, I had to input the code as text into the HTML validator. The results are shown below -

* [Logout page](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/logout-htmlval_mtruop.jpg)
* [Favourites list](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/favlist-html-val_fe2z9f.jpg)
* [Post management](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/postmanagement-htmlval_hgqrux.jpg)
* [Create post](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/createpost-html-val_ks6tjx.jpg)
* [Edit post](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/editpost-html-val_awd94s.jpg)

#### CSS validation

![CSS validation results](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/jigsawvalidationv2_aravyo.jpg)

#### JShint validation

![JShint validation results](https://res.cloudinary.com/delase5lw/image/upload/v1685085790/jshintv2_v7fjvy.jpg)

#### PEP8 Validation

I performed PEP8 validation on all custom python files in the Django app:

* [views.py](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/views.pyv2_iu8u0i.jpg)
* [models.py](https://res.cloudinary.com/delase5lw/image/upload/v1685085756/model.pyv2_ujvavw.jpg)
* [forms.py](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/forms.pyv2_vmufaw.jpg)
* [admin.py](https://res.cloudinary.com/delase5lw/image/upload/v1685085755/admin.pyv2_p9t9c7.jpg)
* [blogs/urls.py](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/urls.pyv2_ty6oy5.jpg)
* [veganrecipes/urls.py](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/veganrecipes.urls.pyv2_rrdl1c.jpg)
* [settings.py](https://res.cloudinary.com/delase5lw/image/upload/v1685085757/settings.pyv2_hhyecy.jpg)

#### Manual testing

Manual tests are documented in the following docs:

* [Unique features testing - Page 1](https://res.cloudinary.com/delase5lw/image/upload/v1684388797/manual-testing-pt1_q6shvh.jpg)
* [Unique features testing - Page 2](https://res.cloudinary.com/delase5lw/image/upload/v1684389035/manual-testing-pt2_isn6tw.jpg)
* [General features testing](https://res.cloudinary.com/delase5lw/image/upload/v1684389096/general-features-manual-testingv2_ej53ba.jpg)
* [Admin features testing](https://res.cloudinary.com/delase5lw/image/upload/v1684388807/admin-manual-testing_lreohg.jpg)

### Troubleshooting

I had an issue with allowing the form to accept image uploads, after searching online I found a number of resources suggesting that I need to 1. specify how the form data should be encoded when sent to the server by including the `enctype` attribute set to `"multipart/form-data"` in the form element and 2. I need to initialise the form object with both the uploaded files and the form data `PostForm(request.POST, request.FILES)`. I found the [Django documentation](https://docs.djangoproject.com/en/4.2/topics/http/file-uploads/) particularly helpful in achieving amongst other resources stated in the credits section.

On the topic of images, I had issues with the card images on the homepage, all recipes and favourite list pages slowing down the performance (as determined by the Lighthouse report) due to 'Explicitly set width and height of images' and 'set images to next gen formats'. First I ensured all default recipe images and decorative images on the site (using the 'Edit' features on Cloudinary to change format), as well as adjusting the size of the default recipe image to what is required (as we don't require a large image size for a card image) greatly increased the performance. Secondly, I also removed the `card-img-top` class as this seemed to be slowing down the performance and replaced it with `card-img` where I specified the scaling of the image to `crispy-edges` which preserves the image contrast and edges - I found the [W3 guide](https://www.w3schools.com/cssref/css3_pr_image-rendering.php) on usage of the image-rendering property helpful in me achieving this. I found these changes combined improved the performance of the pages with the card images.

One instance I experienced an issue when creating the ContactRequest model, where I wanted to add a first name and last name field to the contact form but when I added it I keep on getting an error when trying to apply the migrations `You are trying to add a non-nullable field`. I believe what happened was there were already contact requests in the database that did not have first name or last name fields which could not be blank, therefore this would be an integrity error. I had a look online to resolve this as even when I commented out the model or set a default value and tried to update the migrations, I was still getting the same error. I found a [post](https://www.linkedin.com/pulse/how-do-i-reset-django-migration-nitin-raturi/?trk=pulse-article_more-articles_related-content-card) which suggested that you can drop the whole database and start again. This seemed like quite an extreme measure so I felt uncomfortable doing this, therefore I contacted Tutor support to see if they could help me find an alternative solution. Sean from Tutor support dropped the table for the ContectRequest model which resolved the issue. 

Another time I wanted to add a dropdown menu so the user can request the nature of their query in the contact form and so admin can sort through the question type easily to manage admin tasks more efficiently. When I added the new model field  `question_type` I incorrectly added the field type to be an  `IntegerField` rather than a `Charfield` and at that time put a default value of the last of the available options `Other`. When trying to migrate these changes I got a `ValueError` stating that default value for this field should be a number. I then noticed that I had declared the wrong field type and promptly changed it to `CharField` and made a new migration in an attempt to update the field. However, the error still persisted when trying to migrate the changes. I thought from my previous experience that I could perhaps just drop the contact request table. However, after attempting to do this by following [stack overflow post](https://stackoverflow.com/questions/8597322/how-to-remove-models-from-django), this did not work. Unsure about the best course of action, while also being aware that changes to databases should be handled with extreme caution, I contacted tutor support again. Joshua from Tutor support suggested I should drop the database this time and instructed me to delete all my migrations file except `__init__.py`, on ElephantSQL press `reset` next to the database name on the dashboard and then makemigrations and migrate changes, which resolved the error.

### Credits

#### Code

I found the [Bootstrap 4 documentation](https://getbootstrap.com/docs/4.2/getting-started/introduction/) particularly helpful with creation of the recipe cards. Additionally, I utilised the Bootstrap 4 dropdown navbar code. 

In the image upload on the user post form, I found the following [w3schools](https://www.w3schools.com/tags/att_form_enctype.asp) and the [Cloudinary](https://cloudinary.com/documentation/django_image_and_video_upload) documentation helpful in achieving this which suggested include the `enctype` attribute set to `"multipart/form-data"` in the form element to specify that the form is receiving multiple types of data. 

The [Django documentation](https://docs.djangoproject.com/en/4.2/ref/models/fields/) was very helpful in outlining different model field types which was helpful when I was specifying the fields in the models.

The Code Institute course materials including 'Hello Django' and 'I Think therefore I Blog' for guidelines in setting up and deploying the django app, as well as implementing the CRUD functionality. 

For the messages functionality, the 'I think therefore I blog' Code Institute tutorial helpful in setting this up, but when following the tutorial exactly for some reason the close icon on the alert wasn't functional. I found changing `data-db-dismiss` to `data-dismiss` as per this [stack overflow post](https://stackoverflow.com/questions/75037418/bootstrap-4-close-button-not-working-django) resolve this issue.

Addition of the favicon was assisted by following the [W3schools](https://www.w3schools.com/html/html_favicon.asp) guide.

I have provided further credits in the troubleshooting section.

#### Images

All images were from pexels.com

### Deployment

I deployed the app on Heroku by following [these](https://docs.google.com/document/d/1P5CWvS5cYalkQOLeQiijpSViDPogtKM7ZGyqK-yehhQ/edit) instructions.

The steps I followed - 

*Note everything labelled (secret) is a secret environmental variable, so cannot be reported in this README.*

**Create a new app in Heroku**

1. Click new on dashboard
2. Select app name and location (Europe)
3. Set Config variables in settings tab - `DATABASE_URL : (secret)`, `SECRET KEY : (secret)`, `PORT : 8000`, `CLOUDINARY_URL: (secret)`

**In Gitpod**

1. Create env.py file 
2. `import os`
3. Set up environmental variables for database `os.environ["DATABASE_URL"]="secret ElephantSQL database URL"`
4. Add secret key `os.environ["SECRET_KEY"]="secret randomSecretKey"`

***Prepare settings.py***

1.  Reference env.py (conditional to check env.py exists):
```Reference env.py
from pathlib import Path
import os
import dj_database_url
if os.path.isfile('env.py'):
    import env
```
2. Remove insecure secret key and grab the secret key with the following: `SECRET_KEY = os.environ.get('SECRET_KEY')`
3. Comment out old database config var which specifies usage of the SQLite3 database
4. Instead put in a new databases section wiring up to the PostgreSQL database:
```Add new database section
DATABASES = {
     'default': dj_database_url.parse(os.environ.get('DATABASE_URL'))
}
```
5. Save files and make migrations: `python3 manage.py migrate`

***Create Procfile***
1. Create Procfile and add the following code `web: gunicorn appname.wsgi`
2. Commit and push changes

***Back in Heroku***

In the deploy tab:
1. Click deploy via Github
1. Connect app to Github (select the project repository)
2. Select main branch and click 'Deploy branch' in the Manual deploy section

## Acknowledgement

I would like to thank my mentor, Martina Terlevic for advice on this project, as well as Sean and Joshua from tutor support for their help with resolving my database errors.

## Sources 

The Code Institute student template for GitPod which has all the preinstalled tools to begin this project.

## References for introduction to README

* [Souza et al. 2020](https://www.researchgate.net/publication/338804012_Perceptions_about_Veganism)
* [Google trends](https://trends.google.com/trends/explore?date=all&q=%2Fm%2F07_hy,environmental%20impact%20of%20farming%20industry)
* [Economist 2020](https://www.economist.com/graphic-detail/2020/01/29/interest-in-veganism-is-surging?utm_medium=cpc.adword.pd&utm_source=google&ppccampaignID=18156330227&ppcadID=&utm_campaign=a.22brand_pmax&utm_content=conversion.direct-response.anonymous&gclid=Cj0KCQjw3a2iBhCFARIsAD4jQB3TlocNmcIDk-WQztWGP6RmM0A30D7lwWv92GTlDcOK1A6riYDJwDIaAtUJEALw_wcB&gclsrc=aw.ds)
* [Sentient Media 2022](https://sentientmedia.org/increase-in-veganism/#:~:text=Is%20Veganism%20a%20Growing%20Industry,how%20much%20meat%20they%20eat.)
* [Forbes 2018](https://www.forbes.com/sites/janetforgrieve/2018/11/02/picturing-a-kindler-gentler-world-vegan-month/?sh=d1fc8ff2f2bb)


